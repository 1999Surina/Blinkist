{"ast":null,"code":"import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\nexport const getBook = createAsyncThunk(\"books/getBook\", async id => {\n  const res = await axios.get(`http://localhost:8000/books/${id}`);\n  return res.data;\n});\nexport const updateBook = createAsyncThunk(\"books/updateBook\", async data => {\n  const {\n    id,\n    status\n  } = data;\n  const res = await axios.patch(`http://localhost:8000/books/${id}`, {\n    status: status === \"currentlyReading\" ? \"finished\" : \"currentlyReading\"\n  });\n  return res.data;\n});\nconst initialState = {\n  status: \"\",\n  book: {\n    id: \"0\",\n    title: \"Unknown\",\n    author: \"Not Known\",\n    reads: \"\",\n    image: \"\"\n  }\n};\nconst bookSlice = createSlice({\n  name: \"books\",\n  initialState,\n  reducers: {},\n  extraReducers: builder => {\n    builder.addCase(getBook.pending, (state, action) => {\n      state.status = \"loading\";\n    });\n    builder.addCase(getBook.fulfilled, (state, action) => {\n      state.status = \"success\";\n      state.book = action.payload;\n    });\n    builder.addCase(getBook.rejected, (state, action) => {\n      state.status = \"failed\";\n    });\n    builder.addCase(updateBook.pending, (state, action) => {\n      state.status = \"loading\";\n    });\n    builder.addCase(updateBook.fulfilled, (state, action) => {\n      state.status = \"success\";\n      state.book = action.payload;\n    });\n    builder.addCase(updateBook.rejected, (state, action) => {\n      state.status = \"failed\";\n    });\n  }\n});\nexport default bookSlice.reducer;","map":{"version":3,"names":["createAsyncThunk","createSlice","axios","getBook","id","res","get","data","updateBook","status","patch","initialState","book","title","author","reads","image","bookSlice","name","reducers","extraReducers","builder","addCase","pending","state","action","fulfilled","payload","rejected","reducer"],"sources":["/home/surinas/Assignment/React-Assignment-State-Mgmt-master/src/reducers/BookReducer.tsx"],"sourcesContent":["import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\nimport { StateProps } from \"../components/Types/Types\";\n\nexport const getBook = createAsyncThunk(\n\t\"books/getBook\",\n\tasync (id: string | undefined) => {\n\t\tconst res = await axios.get(`http://localhost:8000/books/${id}`);\n\t\treturn res.data;\n\t}\n);\n\nexport const updateBook = createAsyncThunk(\n\t\"books/updateBook\",\n\tasync (data: { id: string | undefined; status: string | undefined }) => {\n\t\tconst { id, status } = data;\n\t\tconst res = await axios.patch(`http://localhost:8000/books/${id}`, {\n\t\t\tstatus: status === \"currentlyReading\" ? \"finished\" : \"currentlyReading\",\n\t\t});\n\t\treturn res.data;\n\t}\n);\n\ninterface State {\n\tstatus: string;\n\tbook: StateProps;\n}\n\nconst initialState: State = {\n\tstatus: \"\",\n\tbook: {\n\t\tid: \"0\",\n\t\ttitle: \"Unknown\",\n\t\tauthor: \"Not Known\",\n\t\treads: \"\",\n\t\timage: \"\",\n\t},\n};\n\nconst bookSlice = createSlice({\n\tname: \"books\",\n\tinitialState,\n\treducers: {},\n\textraReducers: (builder) => {\n\t\tbuilder.addCase(getBook.pending, (state, action) => {\n\t\t\tstate.status = \"loading\";\n\t\t});\n\t\tbuilder.addCase(getBook.fulfilled, (state, action) => {\n\t\t\tstate.status = \"success\";\n\t\t\tstate.book = action.payload;\n\t\t});\n\n\t\tbuilder.addCase(getBook.rejected, (state, action) => {\n\t\t\tstate.status = \"failed\";\n\t\t});\n\n\t\tbuilder.addCase(updateBook.pending, (state, action) => {\n\t\t\tstate.status = \"loading\";\n\t\t});\n\n\t\tbuilder.addCase(updateBook.fulfilled, (state, action) => {\n\t\t\tstate.status = \"success\";\n\t\t\tstate.book = action.payload;\n\t\t});\n\n\t\tbuilder.addCase(updateBook.rejected, (state, action) => {\n\t\t\tstate.status = \"failed\";\n\t\t});\n\t},\n});\n\nexport default bookSlice.reducer;\n"],"mappings":"AAAA,SAASA,gBAAT,EAA2BC,WAA3B,QAA8C,kBAA9C;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAGA,OAAO,MAAMC,OAAO,GAAGH,gBAAgB,CACtC,eADsC,EAEtC,MAAOI,EAAP,IAAkC;EACjC,MAAMC,GAAG,GAAG,MAAMH,KAAK,CAACI,GAAN,CAAW,+BAA8BF,EAAG,EAA5C,CAAlB;EACA,OAAOC,GAAG,CAACE,IAAX;AACA,CALqC,CAAhC;AAQP,OAAO,MAAMC,UAAU,GAAGR,gBAAgB,CACzC,kBADyC,EAEzC,MAAOO,IAAP,IAAwE;EACvE,MAAM;IAAEH,EAAF;IAAMK;EAAN,IAAiBF,IAAvB;EACA,MAAMF,GAAG,GAAG,MAAMH,KAAK,CAACQ,KAAN,CAAa,+BAA8BN,EAAG,EAA9C,EAAiD;IAClEK,MAAM,EAAEA,MAAM,KAAK,kBAAX,GAAgC,UAAhC,GAA6C;EADa,CAAjD,CAAlB;EAGA,OAAOJ,GAAG,CAACE,IAAX;AACA,CARwC,CAAnC;AAgBP,MAAMI,YAAmB,GAAG;EAC3BF,MAAM,EAAE,EADmB;EAE3BG,IAAI,EAAE;IACLR,EAAE,EAAE,GADC;IAELS,KAAK,EAAE,SAFF;IAGLC,MAAM,EAAE,WAHH;IAILC,KAAK,EAAE,EAJF;IAKLC,KAAK,EAAE;EALF;AAFqB,CAA5B;AAWA,MAAMC,SAAS,GAAGhB,WAAW,CAAC;EAC7BiB,IAAI,EAAE,OADuB;EAE7BP,YAF6B;EAG7BQ,QAAQ,EAAE,EAHmB;EAI7BC,aAAa,EAAGC,OAAD,IAAa;IAC3BA,OAAO,CAACC,OAAR,CAAgBnB,OAAO,CAACoB,OAAxB,EAAiC,CAACC,KAAD,EAAQC,MAAR,KAAmB;MACnDD,KAAK,CAACf,MAAN,GAAe,SAAf;IACA,CAFD;IAGAY,OAAO,CAACC,OAAR,CAAgBnB,OAAO,CAACuB,SAAxB,EAAmC,CAACF,KAAD,EAAQC,MAAR,KAAmB;MACrDD,KAAK,CAACf,MAAN,GAAe,SAAf;MACAe,KAAK,CAACZ,IAAN,GAAaa,MAAM,CAACE,OAApB;IACA,CAHD;IAKAN,OAAO,CAACC,OAAR,CAAgBnB,OAAO,CAACyB,QAAxB,EAAkC,CAACJ,KAAD,EAAQC,MAAR,KAAmB;MACpDD,KAAK,CAACf,MAAN,GAAe,QAAf;IACA,CAFD;IAIAY,OAAO,CAACC,OAAR,CAAgBd,UAAU,CAACe,OAA3B,EAAoC,CAACC,KAAD,EAAQC,MAAR,KAAmB;MACtDD,KAAK,CAACf,MAAN,GAAe,SAAf;IACA,CAFD;IAIAY,OAAO,CAACC,OAAR,CAAgBd,UAAU,CAACkB,SAA3B,EAAsC,CAACF,KAAD,EAAQC,MAAR,KAAmB;MACxDD,KAAK,CAACf,MAAN,GAAe,SAAf;MACAe,KAAK,CAACZ,IAAN,GAAaa,MAAM,CAACE,OAApB;IACA,CAHD;IAKAN,OAAO,CAACC,OAAR,CAAgBd,UAAU,CAACoB,QAA3B,EAAqC,CAACJ,KAAD,EAAQC,MAAR,KAAmB;MACvDD,KAAK,CAACf,MAAN,GAAe,QAAf;IACA,CAFD;EAGA;AA7B4B,CAAD,CAA7B;AAgCA,eAAeQ,SAAS,CAACY,OAAzB"},"metadata":{},"sourceType":"module"}